<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0056b3"/>
    <title>Cuadrante Planificador</title>
    <link rel="stylesheet" href="/cuadrante.css">
    <link rel="manifest" href="/manifest.json">
</head>
<body>

    <div id="main-container" style="display: none;">
        <header>
            <h1>Cuadrante Planificador</h1>
            <div class="controls">
                <div class="control-group">
                    <span id="user-greeting"></span>
                    <button id="manage-users-btn" title="Gestionar usuarios">‚öôÔ∏è</button>
                    <button id="report-btn" title="Ver Informe" style="display: none;">üìä</button>
                </div>
                <div class="control-group">
                    <label for="month-select">Mes:</label>
                    <select id="month-select">
                        <option value="0">Enero</option>
                        <option value="1">Febrero</option>
                        <option value="2">Marzo</option>
                        <option value="3">Abril</option>
                        <option value="4">Mayo</option>
                        <option value="5">Junio</option>
                        <option value="6">Julio</option>
                        <option value="7">Agosto</option>
                        <option value="8">Septiembre</option>
                        <option value="9">Octubre</option>
                        <option value="10">Noviembre</option>
                        <option value="11">Diciembre</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="year-select">A√±o:</label>
                    <select id="year-select"></select>
                </div>
            </div>
            <!-- ... (otros controles como la b√∫squeda) ... -->
        </header>

        <main>
            <h2 id="print-title" class="print-only"></h2>
            <table id="calendar"></table>
        </main>
    </div>

    <!-- Ventana Modal para Gestionar Usuarios -->
    <div id="user-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Gestionar Usuarios</h2>
            <ul id="user-list"></ul>
            <div class="add-user-form">
                <input type="text" id="new-user-name" placeholder="Nombre del nuevo usuario">
                <input type="text" id="new-user-identifier" placeholder="Identificador √∫nico">
                <select id="new-user-role">
                    <option value="viewer">Lector</option>
                    <option value="editor">Editor</option>
                    <option value="admin">Admin</option>
                </select>
                <button id="add-user-btn">A√±adir</button>
            </div>
            <button id="close-modal-btn">Cerrar</button>
        </div>
    </div>

    <!-- Ventana Modal para Login -->
    <div id="login-modal" class="modal-overlay" style="display: flex;">
        <div class="modal-content">
            <h2>Iniciar Sesi√≥n</h2>
            <p>Por favor, introduce tu identificador para continuar.</p>
            <div class="login-form">
                <input type="password" id="login-identifier" placeholder="Tu identificador..." autocomplete="off">
                <button id="login-btn">Entrar</button>
            </div>
            <p id="login-error" style="color: red; display: none;"></p>
        </div>
    </div>

    <!-- Ventana Modal para Informe de Cambios -->
    <div id="report-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Informe de Cambios</h2>
            <div id="report-content"></div>
            <button id="close-report-modal-btn">Cerrar</button>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="/cuadrante.js"></script>
    <input type="file" id="image-upload-input" accept="image/*" style="display: none;">
</body>
</html>